<head>
  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    .mystyle-form {
      background-color: #f8f9fa;
      border: 1px solid #ced4da;
      padding: 15px;
      border-radius: 8px;
      max-width: 500px;
    }

    .mystyle-textarea {
      border: 1px solid #ced4da;
      border-radius: 5px;
      padding: 10px;
      resize: none;
    }
  </style>
</head>



<body>
  <div class="container mt-5">
    <div>
      <% if @post.get_image.present? %>
        <%= image_tag post.get_image %>
      <% end %>
      <p>タイトル：<%= @post.title %></p>
      <p>内容：<%= @post.body %></p>
      <p>投稿ユーザー画像：<%= image_tag @post.user.get_profile_image(100,100) %></p>
      <p>ユーザーネーム：<%= @post.user.name %></p>
      <p>投稿日：<%= @post.created_at.strftime('%Y/%m/%d') %></p>
      <% if @post.user == current_user %>
        <%= link_to "編集", edit_user_post_path(@post.id) %>
        <%= link_to "削除", user_post_path(@post), method: :delete %>
      <% end %>
    </div>
    
    <div>
      <p>コメント件数：<%= @post.post_comments.count %></p>
      <% @post.post_comments.each do |post_comment| %>
        <p><%= image_tag post_comment.user.get_profile_image(100,100) %></p>
        <%= post_comment.user.name %>
        <%= post_comment.created_at.strftime('%Y/%m/%d') %><%= post_comment.comment %>
        <% if post_comment.user == current_user %>
          <%= link_to "削除", user_post_post_comment_path(post_comment.post, post_comment), method: :delete %>
        <% end %>
      <% end %>
    </div>

    <div class="mystyle-form">
      <%= form_with model: [:user, @post, @post_comment], html: { class: "my-form" } do |f| %>
        <div class="form-group">
          <%= image_tag current_user.get_profile_image(50,50) %>
          <%= f.label :comment, "コメント" %>
          <%= f.text_area :comment, rows: '3', class: "form-control mystyle-textarea", placeholder: "コメントを書く" %>
        </div>
        <%= f.button class: "btn btn-primary" do %>
          送信 <i class="fa-solid fa-paper-plane"></i>
        <% end %>
      <% end %>
    </div>

  </div>
</body>
