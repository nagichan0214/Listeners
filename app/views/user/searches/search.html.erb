<h2>検索結果</h2>

<table class="table table-hover table-inverse">
  <!--検索対象モデルがUserの時 -->
  <% if @range == "User" %>
    <tbody>
      <% @users.each do |user| %>
        <tr>
          <td><%= link_to user.name, user_user_path(user) %></td>
          
          <% if current_user != user && current_user.following?(user) %>
            <td><%= link_to "フォロー中", user_user_relationships_path(user.id), method: :delete %></td>
          <% elsif current_user != user %>
            <td><%= link_to "フォローする", user_user_relationships_path(user.id), method: :post %></td>
          <% end %>
        </tr>
      <% end %>
      <%= paginate @users %>
    </tbody>
  <% else %>
    <!--検索対象モデルがUserではない時(= 検索対象モデルがPostの時) -->
    <tbody>
      <% @posts.each do |post| %>
        <tr>
          <td><%= link_to post.title, user_post_path(post) %></td>
          <td><%= post.body %></td>
        </tr>
      <% end %>
      <%= paginate @posts %>
    </tbody>
  <% end %>
</table>